@using website.Data

@page "/projects"
@inject ProjectService ProjectSvc

<PageTitle>Projects</PageTitle>

<div class="container mx-auto px-4 py-12">
    <h1 class="text-5xl font-extrabold text-center mb-4 text-white">My Portfolio</h1>
    <p class="text-xl text-center text-gray-400 mb-12">A selection of projects that showcase my skills.</p>

    @if (projectList == null)
    {
        <p class="text-center text-gray-400"><em>Loading projects...</em></p>
    }
    else
    {
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">
            @foreach (var project in projectList)
            {
                <ProjectCard Project="project" />
            }
        </div>
    }
</div>

@code {
    private List<Project>? projectList;

    protected override async Task OnInitializedAsync()
    {
        projectList = await ProjectSvc.GetProjectsAsync();
    }
}
